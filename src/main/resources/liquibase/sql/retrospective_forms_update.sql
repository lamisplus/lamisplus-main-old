--
-- Update to Drug and Laboratory retrospective forms
--

UPDATE form SET resource_object='{"display": "", "components": [{"id": "eenlx1d", "key": "orders", "tags": [], "tree": true, "type": "editgrid", "input": true, "label": "orders", "logic": [], "modal": true, "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "saveRow": "", "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "rowClass": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": false, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": true, "modalEdit": false, "protected": false, "refreshOn": "", "removeRow": "Cancel", "rowDrafts": false, "tableView": false, "templates": {"row": "<div class=\"row\">\n  \n    <div class=\"col-md-12\">\n      <h5>Test Order</h5>\n      <hr>\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <b>Status:</b> {{row.status || ''N/A''}}\n        </div>\n        <div class=\"col-md-12\">\n        <b>Lab Number:</b> {{row.lab_number || ''N/A''}}\n        </div>\n      <div class=\"col-md-6\">\n        <b>Encounter Date:</b> {{row.sample_order_date  || ''N/A''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>Test Ordered By:</b> {{row.sample_ordered_by || ''N/A''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>Test Group:</b> {{row.test_group ? row.test_group.name : ''''}}\n        </div>\n        <div class=\"col-md-6\">\n        <b>Lab. Test:</b> {{row.lab_test ? row.lab_test.name : ''''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>Priority:</b> {{row.order_priority ? row.order_priority.display : ''''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>VL Indication:</b> {{ row.viral_load_indication ? row.viral_load_indication.display : '''' }}\n        </div> \n      </div>      \n    \n    <h5>Sample Information</h5><hr>\n     <div class=\"row\">\n        <div class=\"col-md-6\">\n        <b>Date Sample Collected:</b> {{row.date_sample_collected || ''N/A''}}\n        </div>\n        <div class=\"col-md-6\">\n        <b>Sample Collected By:</b> {{row.sample_collected_by || ''N/A''}}\n        </div>\n      <div class=\"col-md-6\">\n        <b>Sample Type:</b> {{row.sample_type ? _.map(row.sample_type, ''display'')  : ''N/A''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>Sample Mode:</b> {{row.sample_collection_mode ?  _.map(row.sample_collection_mode, ''display'')   : ''N/A''}}\n        </div>\n        \n        <div class=\"col-md-6\">\n        <b>Date Sample Verified:</b> {{row.date_sample_verified ? row.date_sample_verified : ''''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>Sample Verified By:</b> {{row.sample_verified_by ? row.sample_verified_by : ''''}}\n        </div>\n         <div class=\"col-md-6\">\n        <b>Sample Verification Comment:</b> {{ row.comment_sample_verified || '''' }}\n        </div> \n        <div class=\"col-md-6\">\n        <b>Sample Transfer Date:</b> {{ row.date_sample_transferred || '''' }}\n        </div> \n      </div>      \n      \n    <h5>Result(s)</h5><hr>\n    <div class=\"row\">\n       <div class=\"col-md-12\">\n      {% util.eachComponent(row.reported_result , function(result) { %}\n        <div class=\"row\">\n        <div class=\"col-md-6\">\n          <b>Date Assayed: </b>{{result.date_assayed || ''N/A''}}\n          </div>\n          <div class=\"col-md-6\">\n         <b>Result Date: </b>{{result.date_result_reported || ''N/A''}} \n          </div>\n          <div class=\"col-md-6\">\n          <b>Result Reported By: </b>{{result.result_reported_by || ''N/A''}} \n          </div>\n          <div class=\"col-md-6\">\n          <b>Test Result: </b>{{result.result_reported || ''N/A''}} \n          </div>\n          <div class=\"col-md-12\">\n          <b>Comment: </b>{{result.comment_result_reported || ''N/A''}} \n          </div>\n        </div>\n    \n    <hr>\n      {% }) %}\n      </div>\n    </div>\n    \n    </div>\n    \n  \n    <div class=\"col-md-12\">\n      <div class=\"btn-group pull-right\">\n        <button class=\"btn btn-default btn-light btn-sm editRow\"><i class=\"{{ iconClass(''edit'') }}\"></i> Edit </button>\n        {% if (!instance.hasRemoveButtons || instance.hasRemoveButtons()) { %}\n          <button class=\"btn btn-danger btn-sm removeRow\"><i class=\"{{ iconClass(''trash'') }}\"></i> Delete</button>\n        {% } %}\n      </div>\n    </div>\n \n</div>", "footer": "", "header": "<div class=\"row\">\n    <div class=\"col-md-12\">Lab. Test Orders. <span>Click <b>Add New Order</b> to create a test order.</span></div>\n    \n</div>"}, "addAnother": "Add New Order", "attributes": {}, "components": [{"id": "e1veirb", "key": "html", "tag": "p", "type": "htmlelement", "attrs": [{"attr": "", "value": ""}], "input": false, "label": "HTML", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "content": "<h3>Test Order</h3>\n<hr/>", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "refreshOnChange": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e2sd5o", "key": "columns3", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "efrb059", "key": "lab_number", "mask": false, "type": "textfield", "input": true, "label": "Lab Number", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": []}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e8smijs", "key": "columns", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e2g4taj", "key": "sample_order_date", "mask": false, "type": "textfield", "input": true, "label": "Encounter Date", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-ddTHH:mm:ssZ", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "multiple": false, "required": true, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e1wlgr", "key": "lab_test_order_status", "data": {"url": "", "json": "", "custom": "", "values": [{"label": "Pending", "value": "0"}, {"label": "Sample Collected", "value": "1"}, {"label": "Sample Transferred", "value": "2"}, {"label": "Sample Verified", "value": "3"}, {"label": "Sample Rejected", "value": "4"}, {"label": "Result Available", "value": "5"}], "resource": ""}, "tags": [], "type": "select", "input": true, "label": "Test Current Status", "limit": 100, "logic": [], "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "values", "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "dataType": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.label }}</span>", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": false, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": 1, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "refreshOnBlur": "", "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ea10dkr", "key": "test_group", "data": {"url": "{{submission.data.baseUrl}}lab-test-groups", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Select Test Order", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.name }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": true, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "eb1sk4", "key": "lab_test_group_id", "tags": [], "type": "hidden", "input": true, "label": "lab_test_group_id", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.test_group", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "if(row.test_group && row.test_group.id){\n  value = row.test_group.id;\n}", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e6tf5e6", "key": "lab_test_group", "tags": [], "type": "hidden", "input": true, "label": "lab_test_group", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.test_group", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "if(row.test_group && row.test_group.name){\n  value = row.test_group.name;\n}", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "en5va6", "key": "lab_test", "data": {"url": "{{submission.data.baseUrl}}lab-test-groups/{{row.test_group.id}}/lab-tests", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Select Test", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.name }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": true, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "orders.test_group", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "esvrhkq", "key": "unit_measurement", "tags": [], "type": "hidden", "input": true, "label": "unit_measurement", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.lab_test", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "if(row.lab_test && row.lab_test.unitMeasurement){\n  value = row.lab_test.unitMeasurement;\n}", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e0yatq8", "key": "description", "tags": [], "type": "hidden", "input": true, "label": "description", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.lab_test", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "if(row.lab_test && row.lab_test.name){\nvalue = row.lab_test.name;\n}", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "ef1q1", "key": "lab_test_id", "tags": [], "type": "hidden", "input": true, "label": "lab_test_id", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.lab_test", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "if(row.lab_test && row.lab_test.id){\n  value = row.lab_test.id;\n}", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e9e7jjh", "key": "sample_ordered_by", "data": {"url": "{{submission.data.baseUrl}}users/roles/29", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Test Ordered By", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span class=\"text-capitalize\">{{ item.firstName }} {{ item.lastName }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "userName", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "eck4jxl", "key": "viral_load_indication", "data": {"url": "{{submission.data.baseUrl}}application-codesets/codesetGroup?codesetGroup=VIRAL_LOAD_INDICATION", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "", "value": ""}], "resource": ""}, "sort": "", "tags": [], "type": "select", "input": true, "label": "VL Indication", "limit": 100, "logic": [], "filter": "", "hidden": true, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "dataType": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.display }}</span>", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": true, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": {}, "disableLimit": false, "selectFields": "", "selectValues": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "refreshOnBlur": "", "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "customConditional": "\nshow = row.lab_test && \nrow.lab_test.name \n&& row.lab_test.name === \"Viral Load\" ? true : false;", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "euoht3n", "key": "order_priority", "data": {"url": "{{submission.data.baseUrl}}application-codesets/codesetGroup?codesetGroup=TEST_ORDER_PRIORITY", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "", "value": ""}], "resource": ""}, "sort": "", "tags": [], "type": "select", "input": true, "label": "Select Priority", "limit": 100, "logic": [], "filter": "", "hidden": true, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "dataType": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.display }}</span>", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": false, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": {}, "disableLimit": false, "selectFields": "", "selectValues": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "refreshOnBlur": "", "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "er1i0ek", "key": "html1", "tag": "p", "type": "htmlelement", "attrs": [{"attr": "", "value": ""}], "input": false, "label": "HTML", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "content": "<h3>Collect Sample</h3>\n<hr/>", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "refreshOnChange": false, "customConditional": "show = row.lab_test_order_status !== '''' && row.lab_test_order_status != ''0'';", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "exodo78", "key": "columns1", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "ett0p65", "key": "status", "type": "hidden", "input": true, "label": "status", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.lab_test_order_status", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "const LAB_ORDER_STATUS = [{name:\"Sample Collected\", id: 1},\n{name:\"Sample Transfer\", id: 2},\n{name:\"Sample Verified\", id: 3},\n{name:\"Sample Rejected\", id: 4},\n{name:\"Result Available\", id: 5},\n{name:\"Pending\", id:0}];\nvalue = LAB_ORDER_STATUS.find(x => x.id == row.lab_test_order_status) ? LAB_ORDER_STATUS.find(x => x.id == row.lab_test_order_status).name : '''';\nconsole.log(value);", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "euf9zh", "key": "sample_type", "data": {"url": "{{submission.data.baseUrl}}application-codesets/codesetGroup?codesetGroup=SAMPLE_TYPE", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "", "value": ""}], "resource": ""}, "type": "select", "input": true, "label": "Sample Type", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": true, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.display }}</span>", "validate": {"custom": "", "unique": false, "multiple": true, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ecj7gr9", "key": "sample_collection_mode", "data": {"url": "{{submission.data.baseUrl}}application-codesets/codesetGroup?codesetGroup=SAMPLE_COLLECTION_MODE", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "", "value": ""}], "resource": ""}, "type": "select", "input": true, "label": "Sample Mode", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": true, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.display }}</span>", "validate": {"custom": "", "unique": false, "multiple": true, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e27yq5", "key": "date_sample_collected", "case": "", "mask": false, "tags": [], "type": "textfield", "input": true, "label": "Date Sample Collected", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-dd", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "pattern": "", "multiple": false, "required": true, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ex82f0g", "key": "sample_collected_by", "data": {"url": "{{submission.data.baseUrl}}users/roles/29", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Sample Collected By", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span class=\"text-capitalize\">{{ item.firstName }} {{ item.lastName }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "userName", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e3dlk1", "key": "date_sample_verified", "mask": false, "type": "textfield", "input": true, "label": "Date Sample Verified", "hidden": true, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-ddTHH:mm:ssZ", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "show = row.lab_test_order_status == ''3'' ||  row.lab_test_order_status == ''4'' ||  row.lab_test_order_status == ''5'';", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ewadm6", "key": "sample_verified_by", "data": {"url": "{{submission.data.baseUrl}}users/roles/29", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Sample Verified By", "limit": 100, "filter": "", "hidden": true, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span class=\"text-capitalize\">{{ item.firstName }} {{ item.lastName }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "userName", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "customConditional": "show = row.lab_test_order_status == ''3'' ||  row.lab_test_order_status == ''4'' ||  row.lab_test_order_status == ''5'';", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "e0mbrug", "key": "comment_sample_verified", "mask": false, "rows": 3, "type": "textarea", "input": true, "label": "Sample Verification Comment", "editor": "ckeditor", "hidden": true, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "wysiwyg": false, "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "maxWords": 100, "minWords": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "fixedSize": true, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "autoExpand": false, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "html", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "show = row.lab_test_order_status == ''3'' ||  row.lab_test_order_status == ''4'' ||  row.lab_test_order_status == ''5'';", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": []}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e46q2no", "key": "date_sample_transferred", "mask": false, "type": "textfield", "input": true, "label": "Date Sample Transferred", "hidden": true, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-ddTHH:mm:ssZ", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "show = row.lab_test_order_status == ''2'' ;", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": []}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "show = row.lab_test_order_status !== '''' && row.lab_test_order_status != ''0'';", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e04kkv", "key": "html2", "tag": "p", "type": "htmlelement", "attrs": [{"attr": "", "value": ""}], "input": false, "label": "HTML", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "content": "<h3>Enter Result</h3>\n<hr/>", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "refreshOnChange": false, "customConditional": "show = row.lab_test_order_status == ''5'';", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "ec5k1o", "key": "reported_result", "tags": [], "tree": true, "type": "editgrid", "input": true, "label": "Enter one or more Lab. results", "logic": [], "modal": false, "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "saveRow": "Save Result", "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "rowClass": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": false, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": true, "modalEdit": false, "protected": false, "refreshOn": "", "removeRow": "Cancel", "rowDrafts": false, "tableView": false, "templates": {"row": "<div class=\"row\">\n  \n    <div class=\"col-md-12\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <b>Date Assayed: </b>{{row.date_assayed}}\n          </div>\n          <div class=\"col-md-6\">\n         <b>Result Date: </b>{{row.date_result_reported}} \n          </div>\n          <div class=\"col-md-6\">\n          <b>Result Reported By: </b>{{row.result_reported_by}} \n          </div>\n          <div class=\"col-md-6\">\n          <b>Test Result: </b>{{row.result_reported}} \n          </div>\n          <div class=\"col-md-12\">\n          <b>Comment: </b>{{row.comment_result_reported}} \n          </div>\n        </div>\n    \n    </div>\n \n  {% if (!instance.options.readOnly && !instance.originalComponent.disabled) { %}\n    <div class=\"col-md-12\">\n      <div class=\"btn-group pull-right\">\n        <button class=\"btn btn-default btn-light btn-sm editRow\"><i class=\"{{ iconClass(''edit'') }}\"></i> Edit </button>\n        {% if (!instance.hasRemoveButtons || instance.hasRemoveButtons()) { %}\n          <button class=\"btn btn-danger btn-sm removeRow\"><i class=\"{{ iconClass(''trash'') }}\"></i> Delete</button>\n        {% } %}\n      </div>\n    </div>\n  {% } %}\n</div>", "footer": "", "header": "<div class=\"row\">\n  Enter one or more Lab. test results\n</div>"}, "addAnother": "Add New Result", "attributes": {}, "components": [{"id": "e1vk4zn", "key": "columns2", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ebbkzegb", "key": "date_assayed", "mask": false, "type": "textfield", "input": true, "label": "Date Assayed", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-dd", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "eubtqt8", "key": "date_result_reported", "case": "", "mask": false, "tags": [], "type": "textfield", "input": true, "label": "Result Date", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-dd", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "pattern": "", "multiple": false, "required": true, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ecn08h", "key": "result_reported_by", "data": {"url": "{{submission.data.baseUrl}}users/roles/29", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Result Reported By", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span class=\"text-capitalize\">{{ item.firstName }} {{ item.lastName }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "userName", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ej72jvkp", "key": "result_reported", "case": "", "mask": false, "tags": [], "type": "textfield", "input": true, "label": "Enter Result", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "pattern": "", "multiple": false, "required": true, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "e7xdlnh", "key": "comment_result_reported", "mask": false, "rows": 3, "type": "textarea", "input": true, "label": "Comment", "editor": "ckeditor", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "wysiwyg": false, "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "maxWords": 550, "minWords": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "fixedSize": true, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "autoExpand": false, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "html", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}], "errorLabel": "", "inlineEdit": false, "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "defaultOpen": false, "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "openWhenEmpty": true, "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "show = row.lab_test_order_status == ''5'';", "allowMultipleMasks": false, "customDefaultValue": "", "conditionalAddButton": "", "allowCalculateOverride": false, "disableAddingRemovingRows": false}], "errorLabel": "", "inlineEdit": false, "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "defaultOpen": false, "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "openWhenEmpty": false, "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "conditionalAddButton": "", "allowCalculateOverride": false, "disableAddingRemovingRows": false}, {"id": "erhtz1", "key": "submit", "size": "md", "tags": [], "type": "button", "block": false, "input": true, "label": "Submit", "logic": [], "theme": "primary", "action": "submit", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "leftIcon": "fa fa-save", "multiple": false, "redrawOn": "", "shortcut": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "rightIcon": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "dataGridLabel": true, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "showValidations": false, "disableOnInvalid": true, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "allowCalculateOverride": false}], "programCode": "", "resourceObject": ""}' WHERE id=280;
UPDATE form SET resource_object='{"display": "", "components": [{"id": "erid78a", "key": "orders", "tags": [], "tree": true, "type": "editgrid", "input": true, "label": "Fill the form below to create a drug order. Click \"Add New Drug Order\" to add more to your drug order.", "logic": [], "modal": true, "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "saveRow": "Save Order", "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "rowClass": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": false, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "removeRow": "Cancel", "rowDrafts": false, "tableView": false, "templates": {"row": "<div class=\"row\">\n    <div class=\"col-md-12\">\n      {{row.regimen ? row.regimen.name : ''''}}\n       {% _.forEach(row.drugs, function(drug) { %}\n        <b> {{drug.drug.name}} {{drug.dosage_strength}} {{drug.dosage_strength_unit.display}}</b> | \n       {% }); %}\n       - \n       {{row.brand_name_prescribed || ''''}} <br/>\n       Start at <b>{{row.start_date}}</b> for{{\" \"}}<b>{{row.duration}} {{row.duration_unit}} </b>\n              to be taken <b>{{row.dosage_frequency}}</b> time(s) a day. <br/>\n              Instruction: {{row.comment}}\n              <br/> Date Ordered:\n              <b>\n                {{moment(row.date_prescribed).format(''DD MMM YYYY'')}}\n              </b>\n               <br/> \n               <h6>Dispense Info:</h6>\n               Date Dispensed:\n              <b>\n                {{moment(row.date_dispensed).format(''DD MMM YYYY'')}}\n              </b> <br/>\n                {% _.forEach(row.dispensed_drugs, function(drug) { %}\n        <b> {{drug.brand_name}} {{drug.quantity_dispensed}} {{drug.unit}}</b> | \n       {% }); %}\n               \n    </div>\n\n  {% if (!instance.options.readOnly && !instance.originalComponent.disabled) { %}\n    <div class=\"col-md-12\">\n      <div class=\"btn-group pull-right\">\n        <button class=\"btn btn-default btn-light btn-sm editRow\"><i class=\"{{ iconClass(''edit'') }}\"></i> Edit </button>\n        {% if (!instance.hasRemoveButtons || instance.hasRemoveButtons()) { %}\n          <button class=\"btn btn-danger btn-sm removeRow\"><i class=\"{{ iconClass(''trash'') }}\"></i> Delete</button>\n        {% } %}\n      </div>\n    </div>\n  {% } %}\n</div>", "footer": "", "header": "<div class=\"row\">\n    <div class=\"col-md-12\">\n      Current Drug Orders\n    </div>\n\n</div>"}, "addAnother": "Add New Drug Order", "attributes": {}, "components": [{"id": "ey93bh8", "key": "columns2", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 8, "offset": 0, "components": [{"id": "e6iva1", "key": "html", "tag": "p", "type": "htmlelement", "attrs": [{"attr": "", "value": ""}], "input": false, "label": "HTML", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "content": "<h3>Drug / Regimen Prescription</h3>\n<hr/>", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "refreshOnChange": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "eqqvtpq", "key": "type", "type": "radio", "input": true, "label": "Select Prescription Type", "hidden": false, "inline": true, "prefix": "", "suffix": "", "unique": false, "values": [{"label": "Drug Prescription", "value": "1", "shortcut": ""}, {"label": "Regimen Prescription", "value": "0", "shortcut": ""}], "widget": null, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "fieldSet": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": true, "inputType": "radio", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "h5 b", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "value = 1;", "hideOnChildrenHidden": false, "optionsLabelPosition": "right", "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 4, "offset": 0, "components": []}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e2qxnjm", "key": "columns", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "ezbmhro", "key": "date_prescribed", "case": "", "mask": false, "tags": [], "type": "textfield", "input": true, "label": "Encounter Date", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "yyyy-MM-dd hh:mm a", "saveAs": "date", "maxDate": "new Date()", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-dd", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "console.log(data);\nif(data.date_encounter){\n  console.log(\"date encounter is\");\n  console.log(data.date_encounter);\n  value = data.date_encounter;\n}", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "if(data.date_encounter){\n  console.log(\"date encounter is\");\n  console.log(data.date_encounter);\n  value = data.date_encounter;\n}", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e5lwu3w", "key": "time_prescribed", "type": "hidden", "input": true, "label": "Time Prescribed", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.date_prescribed", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "if(submission.data.date_prescribed){\n  value = moment(data.date_prescribed).format(''hh:mm a'');\n } else {\n  value = moment().format(''hh:mm a'');\n}", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e7q57r", "key": "prescription_status", "tags": [], "type": "hidden", "input": true, "label": "prescription_status", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.date_dispensed", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputType": "hidden", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": "0", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "value = 0;\nif(row.date_dispensed){\n  value = 1;\n}", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "e96cb6", "key": "columns3", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 11, "offset": 0, "components": [{"id": "epenld", "key": "regimen", "data": {"url": "{{submission.data.baseUrl}}regimens", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Select Regimen", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.name }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": true, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "0", "show": true, "when": "orders.type"}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "console.log(component.data);", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": true}]}, {"pull": 0, "push": 0, "size": "md", "width": 1, "offset": 0, "components": [{"id": "enpopab", "key": "select", "data": {"url": "{{submission.data.baseUrl}}drugs/regimen/{{row.regimen.id}}", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Select", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": true, "lazyLoad": false, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.name }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": true, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "orders.regimen", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "customConditional": "show = row.regimen && row.regimen.id > 0 ? true : false;", "allowMultipleMasks": false, "customDefaultValue": "var drugs = [];\nvar options = instance.root.getComponent(''select'').selectOptions;\nif(options.length > 0) {\n  options.forEach(addToDrugs);\n instance.root.getComponent(''drugs'').setValue(drugs);\n}\nfunction addToDrugs(drug, index) {\n  var item2 = {\n      drug: drug.value,\n      dosage_strength: \"\",\n      dosage_strength_unit: {}\n    };\n  drugs.push(item2);\n}", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "ekag30m", "key": "drugs", "tree": true, "type": "datagrid", "input": true, "label": "Enter Drugs Information", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "reorder": false, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "orders.select", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "initEmpty": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "components": [{"id": "eo3fkzs00000000000000000000000000000000000000000000000000000", "key": "drug", "data": {"url": "{% if (row.type == 0) { %}     {{submission.data.baseUrl}}drugs/regimen/{{row.regimen.id}} {% } else{ %}  {{submission.data.baseUrl}}drugs {% } %}", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "Authorization", "value": "{{submission.data.authHeader.Authorization}}"}], "resource": ""}, "type": "select", "input": true, "label": "Select Drugs ", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": false, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.name }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": true, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "orders.regimen", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "ezanc0e00000000000000000000000000000000000000000000000000000", "key": "dosage_strength", "mask": false, "type": "number", "input": true, "label": "Dosage Strength", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"max": "", "min": "", "step": "any", "custom": "", "unique": false, "integer": "", "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "delimiter": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "requireDecimal": false, "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e80aq5800000000000000000000000000000000000000000000000000000", "key": "dosage_strength_unit", "data": {"url": "{{submission.data.baseUrl}}application-codesets/codesetGroup?codesetGroup=DOSE_STRENGTH_UNIT", "json": "", "custom": "", "values": [{"label": "", "value": ""}], "headers": [{"key": "", "value": ""}], "resource": ""}, "type": "select", "input": true, "label": "Dosage Unit", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": null, "dataSrc": "url", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.display }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "disableLimit": false, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}], "errorLabel": "", "noFirstRow": false, "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "defaultOpen": false, "description": "", "layoutFixed": false, "placeholder": "", "defaultValue": [{"drug": {}, "dosage_strength_unit": {}}], "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": " var drugs = [];\n var existingDrugs = value;\n if(row.type === 1 ){\n   if(existingDrugs.length > 1){\n     var item = {\n      drug: existingDrugs[0] ? existingDrugs[0].drug : {},\n      dosage_strength: existingDrugs[0] ? existingDrugs[0].dosage_strength : \"\" ,\n      dosage_strength_unit: existingDrugs[0] ? existingDrugs[0].dosage_strength_unit : {}\n    };\n   value = item;\n   return;\n   }\n   \n } else {\n \nvar regimenDrugs = instance.root.getComponent(''select'').selectOptions;\n\nif(regimenDrugs.length > 0) {\n  regimenDrugs.forEach(addToDrugs);\n  value = drugs;\n}\n}\nfunction addToDrugs(drug, index) {\n  if(existingDrugs.length > 0){\n    var item = {\n      drug: drug.value,\n      dosage_strength: existingDrugs[index] ? existingDrugs[index].dosage_strength : \"\" ,\n      dosage_strength_unit: existingDrugs[index] ? existingDrugs[index].dosage_strength_unit : {}\n    };\n     drugs.push(item);\n  } else {\n  var item2 = {\n      drug: drug.value,\n      dosage_strength: \"\",\n      dosage_strength_unit: {}\n    };\n  drugs.push(item2);\n  }\n}", "calculateServer": false, "enableRowGroups": false, "addAnotherPosition": "bottom", "allowMultipleMasks": false, "customDefaultValue": "var drugs = [];\nvar regimenDrugs = instance.root.getComponent(''select'').selectOptions;\nif(regimenDrugs.length > 0) {\n  regimenDrugs.forEach(addToDrugs);\n  value = drugs;\n}\nfunction addToDrugs(drug) {\n  var item =  {\n      drug: drug.value,\n      dosage_strength: 0,\n      dosage_strength_unit: {}\n    };\n  drugs.push(item);\n}", "hideOnChildrenHidden": false, "allowCalculateOverride": true, "disableAddingRemovingRows": true}, {"id": "ednjdq", "key": "brand_name_prescribed", "case": "", "mask": false, "tags": [], "type": "textfield", "input": true, "label": "Drug Brand Name", "logic": [], "hidden": true, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": "", "when": ""}, "customClass": "", "description": "(Optional)", "inputFormat": "plain", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "ei9o4yr", "key": "columns1", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "ewer96j", "key": "dosage_frequency", "mask": false, "type": "number", "input": true, "label": "Dose Frequency", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"max": "", "min": "", "step": "any", "custom": "", "unique": false, "integer": "", "multiple": false, "required": true, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "delimiter": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "(Frequency of dose per day)", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "requireDecimal": false, "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e73frz", "key": "start_date", "case": "", "mask": false, "tags": [], "type": "textfield", "input": true, "label": "Start Date", "logic": [], "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "dd-MMM-yyyy", "saveAs": "date", "altInput": true, "time_24hr": false, "allowInput": true, "clickOpens": true, "dateFormat": "yyyy-MM-dd", "enableDate": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "minuteIncrement": 5, "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "if(row.date_prescribed){\nconsole.log(moment(input));\nconsole.log(moment(row.date_prescribed));\nconsole.log(moment(input) < (moment(row.date_prescribed).startOf(''day'')));\nvalid = moment(input) < (moment(row.date_prescribed).startOf(''day'')) ? ''Encounter date cannot be greater than start date'' : true; \n}", "unique": false, "pattern": "", "multiple": false, "required": true, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "(Date to start medication)", "inputFormat": "plain", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "// value = moment().format(''YYYY-MM-DD'');", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "enfu8gb", "key": "duration", "mask": false, "type": "number", "input": true, "label": "Duration", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"max": "", "min": "", "step": "any", "custom": "", "unique": false, "integer": "", "multiple": false, "required": true, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "delimiter": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "How long should the medication be used?", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "requireDecimal": false, "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "e2g4rv", "key": "duration_unit", "data": {"url": "", "json": "", "custom": "", "values": [{"label": "Days", "value": "days"}, {"label": "Weeks", "value": "weeks"}, {"label": "Months", "value": "months"}], "resource": ""}, "tags": [], "type": "select", "input": true, "label": "Duration Unit", "limit": 100, "logic": [], "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "values", "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "dataType": "", "disabled": true, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.label }}</span>", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": true, "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": "days", "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "refreshOnBlur": "", "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "eu93b6b", "key": "comment", "case": "", "mask": false, "rows": 3, "tags": [], "type": "textarea", "input": true, "label": "Other Instructions", "logic": [], "editor": "ckeditor", "hidden": true, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "wysiwyg": false, "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "pattern": "", "maxWords": "", "minWords": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "fixedSize": true, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "autoExpand": false, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "html", "placeholder": "", "autocomplete": "", "defaultValue": "", "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "erejfei", "key": "html1", "tag": "p", "type": "htmlelement", "attrs": [{"attr": "", "value": ""}], "input": false, "label": "HTML", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "content": "<h3>Dispense Information</h3>\n<hr/>", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "refreshOnChange": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}, {"id": "e4wg9b", "key": "columns2", "tree": false, "type": "columns", "input": false, "label": "Columns", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": null, "columns": [{"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": [{"id": "emndzfj", "key": "date_dispensed", "type": "datetime", "input": true, "label": "Date Dispensed", "format": "yyyy-MM-dd", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"mode": "single", "type": "calendar", "format": "yyyy-MM-dd", "locale": "en", "maxDate": "moment()", "minDate": null, "time_24hr": false, "allowInput": true, "enableTime": false, "noCalendar": false, "hourIncrement": 1, "disableWeekdays": false, "disableWeekends": false, "minuteIncrement": 1, "displayInTimezone": "viewer", "useLocaleSettings": false}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "timezone": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "allowInput": true, "attributes": {}, "datePicker": {"maxDate": "moment()", "maxMode": "year", "minDate": null, "minMode": "day", "initDate": "", "yearRows": 4, "showWeeks": true, "startingDay": 0, "yearColumns": 5, "disableWeekdays": false, "disableWeekends": false}, "enableDate": true, "enableTime": false, "errorLabel": "", "persistent": true, "properties": {}, "timePicker": {"hourStep": 1, "arrowkeys": true, "minuteStep": 1, "mousewheel": true, "showMeridian": true, "readonlyInput": false}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "defaultDate": "", "description": "", "placeholder": "", "defaultValue": "", "customOptions": {}, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "datepickerMode": "day", "calculateServer": false, "displayInTimezone": "viewer", "useLocaleSettings": false, "allowMultipleMasks": false, "customDefaultValue": "", "enableMaxDateInput": true, "enableMinDateInput": false, "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": []}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "e32xlrb", "key": "dispensed_drugs", "tags": [], "tree": true, "type": "datagrid", "input": true, "label": "Enter Dispensed Drugs", "logic": [], "hidden": true, "prefix": "", "suffix": "", "unique": false, "widget": null, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "reorder": false, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"json": "", "custom": "", "unique": false, "multiple": false, "required": false, "maxLength": "", "minLength": "", "customMessage": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "initEmpty": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "addAnother": "", "attributes": {}, "components": [{"id": "e8pbo7p0000", "key": "brand_name", "mask": false, "type": "textfield", "input": true, "label": "Drug Brand Name", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "allowCalculateOverride": false}, {"id": "eyrncoa0000", "key": "quantity_dispensed", "mask": false, "type": "number", "input": true, "label": "Quantity Dispensed", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"max": "", "min": "", "step": "any", "custom": "", "unique": false, "integer": "", "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "delimiter": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "plain", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "requireDecimal": false, "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "allowCalculateOverride": false}, {"id": "e56w5ws0000", "key": "unit", "data": {"url": "", "json": "", "custom": "", "values": [{"label": "Packs", "value": "packs"}, {"label": "Tablets", "value": "tablets"}], "resource": ""}, "type": "select", "input": true, "label": "Unit", "limit": 100, "filter": "", "hidden": false, "idPath": "id", "prefix": "", "suffix": "", "unique": false, "widget": "choicesjs", "dataSrc": "values", "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "lazyLoad": true, "multiple": false, "redrawOn": "", "tabindex": "", "template": "<span>{{ item.label }}</span>", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "indexeddb": {"filter": {}}, "minSearch": 0, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "errorLabel": "", "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "fuseOptions": {"include": "score", "threshold": 0.3}, "placeholder": "", "searchField": "", "authenticate": false, "defaultValue": null, "selectFields": "", "customOptions": {}, "labelPosition": "top", "readOnlyValue": false, "searchEnabled": true, "showCharCount": false, "showWordCount": false, "uniqueOptions": false, "valueProperty": "", "calculateValue": "", "clearOnRefresh": false, "useExactSearch": false, "calculateServer": false, "searchThreshold": 0.3, "selectThreshold": 0.3, "allowMultipleMasks": false, "customDefaultValue": "", "allowCalculateOverride": false}], "errorLabel": "", "noFirstRow": false, "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "defaultOpen": false, "description": "", "layoutFixed": false, "placeholder": "", "defaultValue": [{"unit": "", "brand_name": "", "drugBrandName": ""}], "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "enableRowGroups": false, "customConditional": "", "addAnotherPosition": "bottom", "allowMultipleMasks": false, "customDefaultValue": "", "conditionalAddButton": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false, "disableAddingRemovingRows": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 12, "offset": 0, "components": [{"id": "en0shga", "key": "dispensed_note", "mask": false, "rows": 3, "type": "textarea", "input": true, "label": "Pharmacist''s Note", "editor": "ckeditor", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "wysiwyg": false, "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "pattern": "", "maxWords": "", "minWords": "", "multiple": false, "required": false, "maxLength": "", "minLength": "", "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "fixedSize": true, "hideLabel": false, "inputMask": "", "inputType": "text", "modalEdit": false, "protected": false, "refreshOn": "", "tableView": true, "attributes": {}, "autoExpand": false, "errorLabel": "", "persistent": true, "properties": {}, "spellcheck": true, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "inputFormat": "html", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}, {"pull": 0, "push": 0, "size": "md", "width": 6, "offset": 0, "components": []}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}]}], "dbIndex": false, "overlay": {"top": "", "left": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "multiple": false, "redrawOn": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "tableView": false, "attributes": {}, "autoAdjust": false, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": false, "conditional": {"eq": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "allowMultipleMasks": false, "customDefaultValue": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false}], "errorLabel": "", "inlineEdit": false, "persistent": true, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "defaultOpen": false, "description": "", "placeholder": "", "defaultValue": null, "labelPosition": "top", "openWhenEmpty": false, "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "conditionalAddButton": "", "hideOnChildrenHidden": false, "allowCalculateOverride": false, "disableAddingRemovingRows": false}, {"id": "ekmoiy9", "key": "submit", "size": "md", "tags": [], "type": "button", "block": false, "input": true, "label": "Submit", "logic": [], "theme": "primary", "action": "submit", "hidden": false, "prefix": "", "suffix": "", "unique": false, "widget": {"type": "input"}, "dbIndex": false, "overlay": {"top": "", "left": "", "page": "", "style": "", "width": "", "height": ""}, "tooltip": "", "disabled": false, "leftIcon": "", "multiple": false, "redrawOn": "", "shortcut": "", "tabindex": "", "validate": {"custom": "", "unique": false, "multiple": false, "required": false, "customPrivate": false, "strictDateValidation": false}, "autofocus": false, "encrypted": false, "hideLabel": false, "modalEdit": false, "protected": false, "refreshOn": "", "rightIcon": "", "tableView": false, "attributes": {}, "errorLabel": "", "persistent": false, "properties": {}, "validateOn": "change", "clearOnHide": true, "conditional": {"eq": "", "json": "", "show": null, "when": null}, "customClass": "", "description": "", "placeholder": "", "defaultValue": null, "dataGridLabel": true, "labelPosition": "top", "showCharCount": false, "showWordCount": false, "calculateValue": "", "calculateServer": false, "disableOnInvalid": true, "customConditional": "", "allowMultipleMasks": false, "customDefaultValue": "", "allowCalculateOverride": false}], "programCode": "", "resourceObject": ""}' WHERE id=301;
